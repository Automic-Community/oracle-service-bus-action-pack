*** Settings ***
Resource          variables.txt

*** Keywords ***
Connect AE
    Action Connect    ${_AE_HOST}    ${_AE_PORT}    ${_AE_USER}    ${_AE_PASS}    ${_AE_TEMP_FOLD}

Set Overwrite Agent
    Run Keyword If    '${ENV}' == 'WIN'    Set Overwrite Agent WIN
    Run Keyword If    '${ENV}' == 'UNIX'    Set Overwrite Agent UNIX

Set Overwrite Agent WIN
    Action Set    &AGENT#    ${_PROMPTSET_AGENT_WIN}
    Action Set    &LOGIN#    ${_PROMPTSET_LOGIN_WIN}

Set Overwrite Agent UNIX
    Action Set    &AGENT#    ${_PROMPTSET_AGENT_UNIX}
    Action Set    &LOGIN#    ${_PROMPTSET_LOGIN_UNIX}

Action Report Should Contain
    [Arguments]    ${text}
    ${report} =    Action Get Report
    Should Contain    ${report}    ${text}

Action Report Should Be Found
    ${report} =    Action Get Report
    Should Not Be Empty    ${report}

Action Report Should Not Be Found
    ${report} =    Action Get Report
    Should Be Empty    ${report}

Action Return Code Should Be
    [Arguments]    ${code}
    ${returnCode}=    Action Get Variable    Return code
    Should Be True    ${returnCode} >= ${code}

Action Return Code Should Not Equal
    [Arguments]    ${code}
    ${returnCode}=    Action Get Variable    Return code
    Should Not Be Equal    ${returnCode}    ${code}

Assert Equal
    [Arguments]    ${ExpectedValue}    ${ActualValue}
    ${ExpectedVal}=    Action Get Variable    ${ExpectedValue}
    Should Be Equal    ${ExpectedVal}    ${ActualValue}

Assert Not Equal
    [Arguments]    ${ExpectedValue}    ${ActualValue}
    ${ExpectedVal}=    Action Get Variable    ${ExpectedValue}
    Should Not Be Equal    ${ExpectedVal}    ${ActualValue}

Action Return Status Should Be
    [Arguments]    ${status}
    ${returnStatus}=    Action Get Variable    Status
    Should Be Equal    ${returnStatus}    ${status}

Action Object Variable File Path Should Be
    [Arguments]    ${Variable_Name}    ${File_name}
    ${File_path}=    Action Get Variable    ${Variable_Name}
    Should Contain    ${File_path}    ${File_name}
    Set Global Variable    ${File_path}

Action Object Variable Count Value Should Be
    [Arguments]    ${Variable_Name}
    ${Count_Value}=    Action Get Variable    ${Variable_Name}
    Should Be True    ${Count_Value} >= 0

Action Object Variable Should Be Found
    [Arguments]    ${Object_Variable}
    ${objectVariable}=    Action Get Variable    ${Object_Variable}
    Should Not Be Empty    ${objectVariable}
    Set Global Variable    ${objectVariable}

Action Object Variable Should Not Be Found
    [Arguments]    ${Object_Variable}
    ${objectVariable}=    Action Get Variable    ${Object_Variable}
    Should Be Empty    ${objectVariable}

Assert Success
    Action Report Should Be Found
    Action Return Status Should Be    ${ENDED_OK}
    Action Return Code Should Be    ${RETURN_CODE_SUCCESS}

Assert Failure
    Action Report Should Be Found
    Action Return Status Should Be    ${ENDED_NOT_OK}
    Action Return Code Should Be    ${RETURN_CODE_FAILURE}

Assert Mandatory
    Action Report Should Not Be Found

Generate String
    ${Generated_Name}    Generate Random String    8    [LOWER]
    ${Time}    Get Time
    Set Global Variable    ${Generated_Name}
    Set Global Variable    ${Time}

Sudo User Details
    Action Set    &UC4RB_SUDO_PASSWORD#    ${SudoPassword}
    Action Set    &UC4RB_USE_SUDO#    ${Options}
    Action Set    &UC4RB_SUDO_USER#    ${SudoUsername}

Set Home
    Run Keyword If    '${WeblogicHome}' == 'Invalid'    Action Set    &UC4RB_OSB_WEBLOGIC_HOME#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_WEBLOGIC_HOME#    ${WeblogicHome}
    Run Keyword If    '${OSBHome}' == 'Invalid'    Action Set    &UC4RB_OSB_HOME#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_HOME#    ${OSBHome}
    Run Keyword If    '${JavaOptions}' == 'Invalid'    Action Set    &UC4RB_OSB_JAVA_OPTIONS#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_JAVA_OPTIONS#    ${JavaOptions}

Connect to OSB
    Action Set    &UC4RB_OSB_PROTOCOL#    ${Protocol}
    Run Keyword If    '${Hostname}' == 'Invalid'    Action Set    &UC4RB_OSB_HOST_NAME#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_HOST_NAME#    ${Hostname}
    Run Keyword If    '${Username}' == 'Invalid'    Action Set    &UC4RB_OSB_USERNAME#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_USERNAME#    ${Username}
    Run Keyword If    '${Password}' == 'Invalid'    Action Set    &UC4RB_OSB_PASSWORD#    ${Generated_Name}_${Time}    ELSE    Action Set
    ...    &UC4RB_OSB_PASSWORD#    ${Password}
    Action Set    &UC4RB_OSB_PORT#    ${Port}

Common Inputs
    Action Set    &UC4RB_OSB_PROTOCOL#    ${OSB_Protocol}
    Action Set    &UC4RB_OSB_HOST_NAME#    ${OSB_Hostname}
    Action Set    &UC4RB_OSB_USERNAME#    ${OSB_Username}
    Action Set    &UC4RB_OSB_PASSWORD#    ${OSB_Password}
    Action Set    &UC4RB_OSB_PORT#    ${OSB_Port}
    Action Set    &UC4RB_OSB_WEBLOGIC_HOME#    ${Weblogic_Home}
    Action Set    &UC4RB_OSB_HOME#    ${OSB_Home}
    Action Set    &UC4RB_OSB_JAVA_OPTIONS#    ${Java_Options}
    Action Set    &UC4RB_SUDO_PASSWORD#    ${Sudo_Password}
    Action Set    &UC4RB_USE_SUDO#    None
    Action Set    &UC4RB_SUDO_USER#    ${Sudo_Username}